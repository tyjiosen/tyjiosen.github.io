import{h as P}from"./http-pWBtOQbL.js";import{d as E,h as c,n as R,E as a,o as d,j as I,w as s,e as _,g as u,a as y,t as m,m as V,b as v}from"./index-DFrWJJtT.js";import"./nprogress-DlKjqmFG.js";const Y={style:{color:"red"}},w={style:{color:"red"}},T=E({__name:"IpView",setup(x){const i=c(""),C=c(""),o=c({}),l=c({}),f=n=>P.get("https://zj.v.api.aa1.cn/api/ip-taobao/?ip="+n),h=()=>{if(!i.value){a.error("请输入IP地址");return}f(i.value).then(n=>{const e=n.data;(e==null?void 0:e.code)==0?l.value=e==null?void 0:e.data:a.error("无法IP信息")}).catch(n=>{a.error("网络异常")})};return R(()=>{P.get("http://m.lpv4.cn:89/api/ip/?ip=").then(n=>{const e=n.data;console.log(e),e!=null&&e.ip?(C.value=e==null?void 0:e.ip,f(C.value).then(r=>{const t=r.data;(t==null?void 0:t.code)==0?o.value=t==null?void 0:t.data:a.error("无法获取本机IP信息")}).catch(r=>{a.error("网络异常")})):a.error("无法获取本机IP信息")}).catch(()=>{a.error("网络异常")})}),(n,e)=>{const r=_("el-col"),t=_("el-button"),$=_("el-input"),g=_("el-row");return d(),I(g,null,{default:s(()=>{var N;return[(N=o.value)!=null&&N.QUERY_IP?(d(),I(r,{key:0,class:"mt-20"},{default:s(()=>{var p;return[e[2]||(e[2]=u(" 您的iP地址是: [")),y("span",Y,m(((p=o.value)==null?void 0:p.QUERY_IP)??""),1),u("] 来自："+m(`${o.value.COUNTRY_CN??""}${o.value.PROVINCE_CN??""}${o.value.CITY_CN??""} ${o.value.ISP_CN??""}`),1)]}),_:1})):V("",!0),v(r,null,{default:s(()=>[v($,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=p=>i.value=p),placeholder:"请输入IP地址",style:{width:"400px","max-width":"80%"},class:"mt-20",maxlength:"11"},{append:s(()=>[v(t,{type:"primary",onClick:e[0]||(e[0]=p=>h())},{default:s(()=>e[3]||(e[3]=[u("查询")])),_:1})]),_:1},8,["modelValue"])]),_:1}),v(r,{class:"mt-20 mb-10"}),l.value.QUERY_IP?(d(),I(r,{key:1,class:"mb-10"},{default:s(()=>[e[4]||(e[4]=u(" 您查询iP地址是: [")),y("span",w,m(l.value.QUERY_IP??""),1),u("] 来自："+m(`${l.value.COUNTRY_CN??""}${l.value.PROVINCE_CN??""}${l.value.CITY_CN??""} ${l.value.ISP_CN??""}`),1)]),_:1})):V("",!0)]}),_:1})}}});export{T as default};
